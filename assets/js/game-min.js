(() => { "use strict"; let e = [], t = ["C", "D", "S", "H"], r = ["J", "Q", "K", "A"], l = [], n = document.querySelector("#btnNew"), d = document.querySelector("#btnGet"), s = document.querySelector("#btnStop"), a = document.querySelectorAll("small"), i = document.querySelectorAll(".divCards"), o = (t = 2) => { e = c(), l = []; for (let r = 0; r < t; r++)l.push(0); a.forEach(e => e.innerText = 0), i.forEach(e => e.innerHTML = ""), d.disabled = !1, s.disabled = !1 }, c = () => { e = []; for (let l = 2; l <= 10; l++)for (let n of t) e.push(l + n); for (let d of t) for (let s of r) e.push(s + d); return _.shuffle(e) }, $ = () => { if (0 === e.length) throw "There are not cards in the deck"; return e.pop() }, f = e => { let t = e.substring(0, e.length - 1); return isNaN(t) ? "A" === t ? 11 : 10 : 1 * t }, u = (e, t) => (l[t] = l[t] + f(e), a[t].innerText = l[t], l[t]), h = (e, t) => { let r = document.createElement("img"); r.src = `assets/cartas/${e}.png`, r.classList.add("cards"), i[t].append(r) }, b = () => { let [e, t] = l; setTimeout(() => { t === l ? alert("tie") : e > 21 ? alert("pc won!") : t > 21 ? alert("player 1 won") : alert("pc won") }, 100) }, p = e => { let t = 0; do { let r = $(); if (t = u(r, l.length - 1), h(r, l.length - 1), e > 21) break } while (t < e && e <= 21); b() }; d.addEventListener("click", function () { let e = $(), t = u(e, 0); h(e, 0), t > 21 ? (console.error("Sorry, Game Over"), d.disabled = !0, s.disabled = !0, p(t)) : 21 === t && (console.warn("Booyah"), d.disabled = !0, s.disabled = !0, p(t)) }), s.addEventListener("click", function () { d.disabled = !0, s.disabled = !0, p(l[0]) }), n.addEventListener("click", () => { o() }) })();